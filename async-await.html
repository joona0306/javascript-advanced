<!DOCTYPE html>
<html lang="ko">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>async/await</title>
 </head>
 <body>
  <div id="show"></div>

  <!-- js -->
  <script>
   // GET
   //  fetch("https://jsonplaceholder.typicode.com/todos/1")
   //   .then((response) => {
   //    console.log(response);
   //    return response.json(); // JSON 형식으로 변환
   //   })
   //   .then((data) => {
   //    console.log(data);
   //    document.querySelector("#show").innerHTML = `
   //    ID: ${data.id} <br />
   //    UserID: ${data.userId} <br />
   //    TITLE: ${data.title} <br />`;
   //   })
   //   .catch((error) => {
   //    console.error(error);
   //    document.querySelector(
   //     "#show"
   //    ).innerHTML = `<p>잘못된 경로로 접근하셨습니다!</p>`;
   //   });

   // async/await, try-catch
   const fetchData = async () => {
    try {
     const response = await fetch(
      "https://jsonplaceholder.typicode.com/todos/1"
     );
     const data = await response.json();
     console.log(data);

     // UI 구현
     document.querySelector("#show").innerHTML = `
       ID: ${data.id} <br />
       UserID: ${data.userId} <br />
       TITLE: ${data.title} <br />`;
    } catch (error) {
     console.error(error);
     document.querySelector(
      "#show"
     ).innerHTML = `<p>잘못된 경로로 접근하셨습니다!</p>`;
    }
   };

   fetchData();
  </script>
 </body>
</html>
